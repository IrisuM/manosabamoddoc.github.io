<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  开始一个简单的对话
  
  #
  



  让我们来写一个简短的对话剧本
  
  #
  






  调用游戏自身的初始化剧本
  
  #
  

游戏自身准备了很多用于初始化的剧本，比如样例中的System/System_Subroutine.BeginAdv和System/System_Subroutine.EndAdv。
在对话剧本的首尾通过gosub分别执行这两个初始化剧本，让游戏进入对话的模式
当然，有对话模式，自然就有裁判模式，后续也会有用于初始化裁判模式的剧本
;初始化日常活动状态
@Gosub System/System_Subroutine.BeginAdv
;结束日常活动状态
@Gosub System/System_Subroutine.EndAdv



  展示背景
  
  #
  

通过back指令可以修改游戏的背景
可以通过解包工具Assetripper解包背景图资源查看对应的编号，也可以直接查看游戏自带的剧本寻找自己需要的背景的编号
先指定 5_1 为背景图，再指定黑色的遮罩层图层消失
;显示背景
@back 5_1
;将最上面原本黑色的Overlay遮罩层变为透明，同时还指定了动画时间
@back SubId:"Overlay" Transparent tint:"#000000" time:0.99 wait:true



  显示人物
  
  #
  

通过char指令显示人物，显示的方式一般是{人物ID}.{表情,左手,右手}
人物ID和表情相关可以通过解包工具Assetripper解包人物立绘查看，也可以直接查看游戏自带的剧本寻找自己需要的编号
;显示艾玛
@char Ema pos:50,50
;显示雪莉，表情是Smile1
@char Sherry.Smile1 pos:30,50
;显示汉娜，表情是Angry1，双手是状态2
@char Hanna.Angry1,ArmR2,ArmL2 pos:70,50



  隐藏人物
  
  #
  

隐藏角色立绘可以通过hide指令隐藏指定立绘，也可以通过hidechars指令隐藏所有角色立绘
;隐藏艾玛
@hide Ema
;隐藏全部角色
@hideChars



  打印文字
  
  #
  

打印文字有多种方法，可以使用print指令打印文字，也可以直接通过人物ID: 对话或纯文本的格式实现打印文字
@print "完美犯罪？这词真让人热血沸腾呢！" author:"Sherry" speed:1 waitInput:true Wait:true
Ema: 这是一个测试用例，我来客串一下。
Ema: 再说一句就下线了。
这里是一段空白。



  结束剧本
  
  #
  

可以通过goto指令跳转到Mod安装包内的Tool.nani里的EndToTitle标签实现返回到标题页'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://manosabamoddoc.fuyumi.xyz/docs/QuickStart/BeginAdv/"><meta property="og:site_name" content="雪莉的剧本编辑器"><meta property="og:title" content="开始一个简单的对话"><meta property="og:description" content='开始一个简单的对话 # 让我们来写一个简短的对话剧本 # 调用游戏自身的初始化剧本 # 游戏自身准备了很多用于初始化的剧本，比如样例中的System/System_Subroutine.BeginAdv和System/System_Subroutine.EndAdv。
在对话剧本的首尾通过gosub分别执行这两个初始化剧本，让游戏进入对话的模式
当然，有对话模式，自然就有裁判模式，后续也会有用于初始化裁判模式的剧本
;初始化日常活动状态 @Gosub System/System_Subroutine.BeginAdv ;结束日常活动状态 @Gosub System/System_Subroutine.EndAdv 展示背景 # 通过back指令可以修改游戏的背景
可以通过解包工具Assetripper解包背景图资源查看对应的编号，也可以直接查看游戏自带的剧本寻找自己需要的背景的编号
先指定 5_1 为背景图，再指定黑色的遮罩层图层消失
;显示背景 @back 5_1 ;将最上面原本黑色的Overlay遮罩层变为透明，同时还指定了动画时间 @back SubId:"Overlay" Transparent tint:"#000000" time:0.99 wait:true 显示人物 # 通过char指令显示人物，显示的方式一般是{人物ID}.{表情,左手,右手}
人物ID和表情相关可以通过解包工具Assetripper解包人物立绘查看，也可以直接查看游戏自带的剧本寻找自己需要的编号
;显示艾玛 @char Ema pos:50,50 ;显示雪莉，表情是Smile1 @char Sherry.Smile1 pos:30,50 ;显示汉娜，表情是Angry1，双手是状态2 @char Hanna.Angry1,ArmR2,ArmL2 pos:70,50 隐藏人物 # 隐藏角色立绘可以通过hide指令隐藏指定立绘，也可以通过hidechars指令隐藏所有角色立绘
;隐藏艾玛 @hide Ema ;隐藏全部角色 @hideChars 打印文字 # 打印文字有多种方法，可以使用print指令打印文字，也可以直接通过人物ID: 对话或纯文本的格式实现打印文字
@print "完美犯罪？这词真让人热血沸腾呢！" author:"Sherry" speed:1 waitInput:true Wait:true Ema: 这是一个测试用例，我来客串一下。 Ema: 再说一句就下线了。 这里是一段空白。 结束剧本 # 可以通过goto指令跳转到Mod安装包内的Tool.nani里的EndToTitle标签实现返回到标题页'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-09-06T15:32:01+08:00"><title>开始一个简单的对话 | 雪莉的剧本编辑器</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://manosabamoddoc.fuyumi.xyz/docs/QuickStart/BeginAdv/><link rel=stylesheet href=/book.min.f983b1133075f34a464000952394d7dd8ca4b6c8f419ca5ae47d914318121017.css integrity="sha256-+YOxEzB180pGQACVI5TX3Yyktsj0Gcpa5H2RQxgSEBc=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.5ce9fec3c37d091629eb3a2110cdd27c46fb77e7620ba19aa79ef84381c40640.js integrity="sha256-XOn+w8N9CRYp6zohEM3SfEb7d+diC6Gap574Q4HEBkA=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo><span>雪莉的剧本编辑器</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><input type=checkbox id=section-52b5154487ff06b89e9868121921b268 class=toggle>
<label for=section-52b5154487ff06b89e9868121921b268 class=flex><a role=button class=flex-auto>介绍</a></label><ul><li><a href=/docs/Intruduce/ForUser/>给使用的人</a></li><li><a href=/docs/Intruduce/ForDeveloper/>给想写剧本的人</a></li></ul></li><li class=book-section-flat><a href=/docs/Install/>安装与卸载</a><ul></ul></li><li class=book-section-flat><input type=checkbox id=section-096e5f72c7ef5d62a972e4a2046cf5fb class=toggle checked>
<label for=section-096e5f72c7ef5d62a972e4a2046cf5fb class=flex><a role=button class=flex-auto>快速开始一段创作</a></label><ul><li><a href=/docs/QuickStart/CreateMod/>创建新的剧本</a></li><li><a href=/docs/QuickStart/BeginAdv/ class=active>开始一个简单的对话</a></li><li><a href=/docs/QuickStart/BeginTrial/>试试写一个魔女裁判</a></li><li><a href=/docs/QuickStart/Tips/>小贴士</a></li></ul></li><li class=book-section-flat><a href=/docs/ModConfig/>Mod配置</a><ul></ul></li><li class=book-section-flat><input type=checkbox id=section-85b6c0237bbcba5efb9e89acf039eea2 class=toggle>
<label for=section-85b6c0237bbcba5efb9e89acf039eea2 class=flex><a role=button class=flex-auto>进阶文档</a></label><ul><li><a href=/docs/Advanced/Command/>指令介绍</a></li><li><a href=/docs/Advanced/LoadBackgrounds/>加载外部背景资源</a></li><li><a href=/docs/Advanced/LoadVoice/>加载外部音频资源</a></li><li><a href=/docs/Advanced/LoadCharacter/>加载外部立绘资源</a></li><li><a href=/docs/Advanced/MoreNaniFile/>本地化配置</a></li><li><a href=/docs/Advanced/MapMenu/>搜查示例</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-0179ebec185e705019125ac32129ed53 class=toggle>
<label for=section-0179ebec185e705019125ac32129ed53 class=flex><a role=button class=flex-auto>其它说明</a></label><ul><li><a href=/docs/Others/AQ/>碎碎念</a></li><li><a href=/docs/Others/UsefulTools/>一些有用的工具</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-e8588b3ef49116b03cfce7c9e2485f9c class=toggle>
<label for=section-e8588b3ef49116b03cfce7c9e2485f9c class=flex><a role=button class=flex-auto>立绘编辑器</a></label><ul><li><a href=/docs/LayerEditor/LayerEditor/>立绘图层编辑</a></li></ul></li></ul><ul><li><a href=https://github.com/IrisuM/ManosabaMod/ target=_blank rel=noopener>Github</a></li><li><a href=https://space.bilibili.com/1265680561/ target=_blank rel=noopener>关注永雏塔菲谢谢喵！</a></li><li><a href=https://space.bilibili.com/3546949672241842/ target=_blank rel=noopener>关注我谢谢喵！</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>开始一个简单的对话</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#开始一个简单的对话>开始一个简单的对话</a><ul><li><a href=#让我们来写一个简短的对话剧本>让我们来写一个简短的对话剧本</a><ul><li><a href=#调用游戏自身的初始化剧本>调用游戏自身的初始化剧本</a></li><li><a href=#展示背景>展示背景</a></li><li><a href=#显示人物>显示人物</a></li><li><a href=#隐藏人物>隐藏人物</a></li><li><a href=#打印文字>打印文字</a></li><li><a href=#结束剧本>结束剧本</a></li><li><a href=#完整样例>完整样例</a></li></ul></li><li><a href=#如果出现红字>如果出现红字</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=开始一个简单的对话>开始一个简单的对话
<a class=anchor href=#%e5%bc%80%e5%a7%8b%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e7%9a%84%e5%af%b9%e8%af%9d>#</a></h1><hr><h2 id=让我们来写一个简短的对话剧本>让我们来写一个简短的对话剧本
<a class=anchor href=#%e8%ae%a9%e6%88%91%e4%bb%ac%e6%9d%a5%e5%86%99%e4%b8%80%e4%b8%aa%e7%ae%80%e7%9f%ad%e7%9a%84%e5%af%b9%e8%af%9d%e5%89%a7%e6%9c%ac>#</a></h2><hr><div class=book-steps><ol><li><h3 id=调用游戏自身的初始化剧本>调用游戏自身的初始化剧本
<a class=anchor href=#%e8%b0%83%e7%94%a8%e6%b8%b8%e6%88%8f%e8%87%aa%e8%ba%ab%e7%9a%84%e5%88%9d%e5%a7%8b%e5%8c%96%e5%89%a7%e6%9c%ac>#</a></h3><p>游戏自身准备了很多用于初始化的剧本，比如样例中的<strong>System/System_Subroutine.BeginAdv</strong>和<strong>System/System_Subroutine.EndAdv</strong>。</p><p>在对话剧本的首尾通过<a href=/docs/Advanced/Command/#gosub>gosub</a>分别执行这两个初始化剧本，让游戏进入对话的模式</p><p>当然，有对话模式，自然就有裁判模式，后续也会有用于初始化裁判模式的剧本</p><pre tabindex=0><code>;初始化日常活动状态
@Gosub System/System_Subroutine.BeginAdv
</code></pre><pre tabindex=0><code>;结束日常活动状态
@Gosub System/System_Subroutine.EndAdv
</code></pre></li><li><h3 id=展示背景>展示背景
<a class=anchor href=#%e5%b1%95%e7%a4%ba%e8%83%8c%e6%99%af>#</a></h3><p>通过<a href=/docs/Advanced/Command/#back>back</a>指令可以修改游戏的背景</p><p>可以通过解包工具<a href=/docs/Others/UsefulTools/#Assetripper>Assetripper</a>解包背景图资源查看对应的编号，也可以直接查看游戏自带的剧本寻找自己需要的背景的编号</p><p>先指定 5_1 为背景图，再指定黑色的遮罩层图层消失</p><pre tabindex=0><code>;显示背景
@back 5_1
;将最上面原本黑色的Overlay遮罩层变为透明，同时还指定了动画时间
@back SubId:&#34;Overlay&#34; Transparent tint:&#34;#000000&#34; time:0.99 wait:true
</code></pre></li><li><h3 id=显示人物>显示人物
<a class=anchor href=#%e6%98%be%e7%a4%ba%e4%ba%ba%e7%89%a9>#</a></h3><p>通过<a href=/docs/Advanced/Command/#char>char</a>指令显示人物，显示的方式一般是{人物ID}.{表情,左手,右手}</p><p>人物ID和表情相关可以通过解包工具<a href=/docs/Others/UsefulTools/#Assetripper>Assetripper</a>解包人物立绘查看，也可以直接查看游戏自带的剧本寻找自己需要的编号</p><pre tabindex=0><code>;显示艾玛
@char Ema pos:50,50
</code></pre><pre tabindex=0><code>;显示雪莉，表情是Smile1
@char Sherry.Smile1 pos:30,50
</code></pre><pre tabindex=0><code>;显示汉娜，表情是Angry1，双手是状态2
@char Hanna.Angry1,ArmR2,ArmL2 pos:70,50
</code></pre></li><li><h3 id=隐藏人物>隐藏人物
<a class=anchor href=#%e9%9a%90%e8%97%8f%e4%ba%ba%e7%89%a9>#</a></h3><p>隐藏角色立绘可以通过<a href=/docs/Advanced/Command/#hide>hide</a>指令隐藏指定立绘，也可以通过<a href=/docs/Advanced/Command/#hidechars>hidechars</a>指令隐藏所有角色立绘</p><pre tabindex=0><code>;隐藏艾玛
@hide Ema
</code></pre><pre tabindex=0><code>;隐藏全部角色
@hideChars
</code></pre></li><li><h3 id=打印文字>打印文字
<a class=anchor href=#%e6%89%93%e5%8d%b0%e6%96%87%e5%ad%97>#</a></h3><p>打印文字有多种方法，可以使用<a href=/docs/Advanced/Command/#print>print</a>指令打印文字，也可以直接通过<strong>人物ID: 对话</strong>或<strong>纯文本</strong>的格式实现打印文字</p><pre tabindex=0><code>@print &#34;完美犯罪？这词真让人热血沸腾呢！&#34; author:&#34;Sherry&#34; speed:1 waitInput:true Wait:true
</code></pre><pre tabindex=0><code>Ema: 这是一个测试用例，我来客串一下。
Ema: 再说一句就下线了。
</code></pre><pre tabindex=0><code>这里是一段空白。
</code></pre></li><li><h3 id=结束剧本>结束剧本
<a class=anchor href=#%e7%bb%93%e6%9d%9f%e5%89%a7%e6%9c%ac>#</a></h3><p>可以通过<a href=/docs/Advanced/Command/#goto>goto</a>指令跳转到Mod安装包内的Tool.nani里的EndToTitle标签实现返回到标题页</p><p>也可以通过<a href=/docs/Advanced/Command/#returntotitle>returntotitle</a>指令直接返回到标题页，不过直接执行这个指令，可能会导致部分UI没有被隐藏，在返回标题页后仍旧残留在界面上</p><pre tabindex=0><code>;跳转到结束
@goto SherryAppleJuice_ExampleMod/Tools.EndToTitle
</code></pre></li><li><h3 id=完整样例>完整样例
<a class=anchor href=#%e5%ae%8c%e6%95%b4%e6%a0%b7%e4%be%8b>#</a></h3><pre tabindex=0><code>;初始化日常活动状态
@gosub System/System_Subroutine.BeginAdv

;显示背景
@back 5_1
;将最上面原本黑色的Overlay遮罩层变为透明，同时还指定了动画时间
@back SubId:&#34;Overlay&#34; Transparent tint:&#34;#000000&#34; time:0.99 wait:true

;显示艾玛
@char Ema pos:50,50
;艾玛说话
Ema: 这是一个测试用例，我来客串一下。
Ema: 再说一句就下线了。
;隐藏艾玛
@hide Ema

这里是一段空白。

;显示雪莉，表情是Smile1
@char Sherry.Smile1 pos:30,50
;雪莉说话
Sherry: 这是一个测试用例，我也来客串一下。
Sherry: 接下来请汉娜出场。
;显示汉娜，表情是Angry1，双手是状态2
@char Hanna.Angry1,ArmR2,ArmL2 pos:70,50
;汉娜说话
Hanna: 没事不要随便叫我出来啦。
;隐藏全部角色
@hideChars

;结束日常活动状态
@gosub System/System_Subroutine.EndAdv

;跳转到结束
@goto SherryAppleJuice_ExampleMod/Tools.EndToTitle
</code></pre></li></ol></div><hr><h2 id=如果出现红字>如果出现红字
<a class=anchor href=#%e5%a6%82%e6%9e%9c%e5%87%ba%e7%8e%b0%e7%ba%a2%e5%ad%97>#</a></h2><details><summary>Failed to load localization document for XXX</summary><div class=markdown-inner><p><strong>如果控制台出现红字 <font color=Red>Failed to load localization document for XXX</font></strong></p><p>这个报错是本地化配置相关，<a href=/docs/Advanced/MoreNaniFile/>参考这里~</a>：</p><p><img src=/images/LocalizationFileError.png alt=本地化配置错误></p></div></details><hr></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><span><a href=/docs/QuickStart/CreateMod/ class="flex align-center book-icon"><img src=/svg/backward.svg class=book-icon alt=Previous title=创建新的剧本>
<span>创建新的剧本</span>
</a></span><span><a href=/docs/QuickStart/BeginTrial/ class="flex align-center book-icon"><span>试试写一个魔女裁判</span>
<img src=/svg/forward.svg class=book-icon alt=Next title=试试写一个魔女裁判></a></span></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><!doctype html><html><head><script src=http://manosabamoddoc.fuyumi.xyz/background/sakura.js></script></head><body></body></html></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#开始一个简单的对话>开始一个简单的对话</a><ul><li><a href=#让我们来写一个简短的对话剧本>让我们来写一个简短的对话剧本</a><ul><li><a href=#调用游戏自身的初始化剧本>调用游戏自身的初始化剧本</a></li><li><a href=#展示背景>展示背景</a></li><li><a href=#显示人物>显示人物</a></li><li><a href=#隐藏人物>隐藏人物</a></li><li><a href=#打印文字>打印文字</a></li><li><a href=#结束剧本>结束剧本</a></li><li><a href=#完整样例>完整样例</a></li></ul></li><li><a href=#如果出现红字>如果出现红字</a></li></ul></li></ul></nav></div></aside></main></body></html>